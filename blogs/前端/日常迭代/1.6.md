---
tags: [前端, nextjs]
date: 26.1.6
---
# nextjs 使用体验 1

感觉大一统了， 要不是为了学习 java， 感觉后面别的东西都可以用 nextjs 来做了。 前端 react， 后端 nodejs。 或者说不怎么区分前后端了。默认后端 UI 组件， 里面可以直接调用文件系统，可以直接访问数据库。 只有需要用到 window 对象，或者 size 相关的浏览器 API， 才需要引入单独的客户端组件。

## 目录

所有和文件相关的操作,或者不需要和网络交互的操作，都可以放到根目录的 lib 目录下。

根目录下的 components 目录存放全局通用的 components， 例如布局。

app 目录下的 page.tsx 默认解析为首页。

app 目录下的 api 目录存放需要在运行时获取数据的接口。 接口路径根据文件路径进行匹配。

api 路径，通过 slug 进行匹配， 单个 slug 只匹配单个 slug， ...slug 则匹配所有参数
restfulAPI， 通过 route.ts 中 export function 进行创建，比如 GET 请求， 导出 GET 方法， POST 请求，导出 POST 方法。

## 组件

### 服务端组件

1. 服务端组件做了增强， 可以直接使用 async/await
2. 在服务端运行， 可以直接访问

- 文件系统
- 数据库
- API（内部或外部）
- 环境变量

### 客户端组件

需要使用 use client 进行标识
