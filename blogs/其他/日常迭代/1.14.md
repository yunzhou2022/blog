---
tags: [OS]
date: 26.1.14
---

# 有趣系统指令

```zsh
# 防止Mac睡眠，在cursor 运行的时候，锁屏不中断。
caffeinate -di

# 指令其他参数

# -d  防止系统进入休眠（display sleep）
# -i  防止系统变为非活动状态（idle sleep）
# -s  防止系统进入系统级休眠（system sleep）
# -u  声明最近有用户活动
# -t <seconds>  持续指定秒数后自动结束
# 示例: caffeinate -di -t 3600  // 保持活跃一小时
```

```zsh
# 显示磁盘剩余空间，按最大分区排序
df -h | sort -k 4 -h

# 显示端口占用情况（如查找8080端口）
lsof -i :8080

# 快速进入最近用过的目录（需安装zoxide，并配置eval "$(zoxide init zsh)"）
z <目录关键字>

# 统计当前目录下文件个数、总大小
echo "文件数: $(ls -1 | wc -l)"
du -sh .

# 批量查找并删除含特定内容的文件（如含password字符串）
grep -rl 'password' ./ | xargs rm

# 实时追踪文件内容追加（如日志）
tail -f /path/to/log.file
```

# postgre sql

```zsh
# psql 执行sql指令
psql -U lyz -d sanguokill -f migrate_settings_system.sql
```
